<%= form_for @recipe do |f| %>
    <div class="form">
    <% if @recipe.errors.any? %>
        <ul>
            <% @recipe.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
        </ul>
    <% end %>

    <%= f.label :name %>
    <%= f.text_field :name %>

    <div id="ingredients">
    <h3>ingredients</h3>
    <%= f.fields_for :ingredients, @recipe.ingredients.build do |t| %>
        <%= t.label :name %>
        <%= t.text_field :name, list: "ingredients_autocomplete" %>
            <datalist id="ingredients_autocomplete">
            <% @ingredients.each do |ingredient| %>
            <option value="<%= ingredient.name %>">
            </datalist>
            <br>
        <%= t.label :ingredient_type %>
        <%= t.text_field :ingredient_type %>
        <%= t.label :description %>
        <%= t.text_area :description %>
            <br>
        <% end %>
    <% end %>
    </div>
    <%= f.submit %>
<% end %>
</div>